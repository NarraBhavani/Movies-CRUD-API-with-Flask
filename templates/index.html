<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FLask PostgreSQL CRUD<</title>
    <style>
        h2{color:darkblue}
        #films{
        font-family:Arial,Helvetica,sans-serif;
        border-collapse:collapse;
        margin-left:auto;margin-right:auto;width:50%
        }
        #films td,films th {
        border:1px solid #ddd;
        padding: 8px;
        text-align:center;
        }
        #films th{
        background-color:darkblue;
        color:white;}
        #courses tr:hover {background-color:#ddd;
        }
    </style>
</head>
<body>
<h1 style="color:brown;text-align:center">Movies&Details</h1>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Director</th>
        <th>Description</th>
        <th>Genre</th>
    </tr>
    </thead>
    <tbody>
    {% for row in data%}
    <tr>
        <td>{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td>{{ row[2] }}</td>
        <td>{{ row[3] }}</td>
        <td>{{ row[4] }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<h2>Add A New Movie</h2>
<form action="/create" method="POST">
    <input type="text" name="title" placeholder="Title">
    <input type="text" name="director" placeholder="Director">
    <input type="text" name="description" placeholder="Description">
    <input type="text" name="genre" placeholder="Genre">
    <input type="submit" value="Create">
</form>
<h2>Update/Delete Movies details</h2>
<table>
    <thead style="display:block">
    <tr>
        <th>ID</th>
        <th width="35%">Title</th>
        <th width="35%">Direction</th>
        <th width="15%">Description</th>
        <th width="15%">Genre</th>
    </tr>
    </thead>
    <tbody>
    {% for row in data %}
    <tr>
        <td>
            <form action="/update" method="POST" >
                <label>{{ row[0] }}</label>
                <input type="hidden" name="id" value="{{ row[0] }}">
                <input type="text" name="title" value="{{ row[1] }}">
                <input type="text" name="director" value="{{ row[2] }}">
                <input type="text" name="description" value="{{ row[3] }}">
                <input type="text" name="genre" value="{{ row[4] }}">
                <input type="submit" value="Update">
            </form>
        </td>
        <td>
            <form action="/delete" method="POST">
                <input type="hidden" name="id" value="{{ row[0] }}">
                <input type="submit" value="Delete">
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

</body>
</html>